:PROPERTIES:
:ID:       c9f87959-d266-48e0-a2d5-631085dbd7bf
:END:
#+title: js-tool-lerna
#+date: [2024-10-11 周五]
#+last_modified:  



#+NAME: nx.json
|------------------------------------+-------------------------------------+----------|
| Prope                              | Value                               | Note     |
|------------------------------------+-------------------------------------+----------|
| targetDefaults.<scripts>.dependsOn | list of scripts                     | "build"  |
|                                    |                                     | "^build" |
|------------------------------------+-------------------------------------+----------|
| <<namedInputs>>.<name>             | list of ant match rule              |          |
|------------------------------------+-------------------------------------+----------|
| targetDefaults.<scripts>.inputs    | list of name defined in [[namedInputs]] |          |
|------------------------------------+-------------------------------------+----------|
|                                    |                                     |          |


#+NAME: package.json
|-------------------------------------+------------------------------------------------------------------+-------------------------|
| Prope                               | Value                                                            | Note                    |
|-------------------------------------+------------------------------------------------------------------+-------------------------|
| nx.targets                          | map[script=>list of scripts]                                     |                         |
|-------------------------------------+------------------------------------------------------------------+-------------------------|
| name                                |                                                                  | in project package.json |
|-------------------------------------+------------------------------------------------------------------+-------------------------|
| version                             |                                                                  | in project              |
|-------------------------------------+------------------------------------------------------------------+-------------------------|
| lerna.command.<<publish.directory>> |                                                                  |                         |
|-------------------------------------+------------------------------------------------------------------+-------------------------|
| lerna.command.publish.assets        | match rule : would not change relative path to [[publish.directory]] |                         |
|                                     | {from,to} obj : transfer from file to 'to' dir                   |                         |
|-------------------------------------+------------------------------------------------------------------+-------------------------|


{workspaceRoot}, {projectRoot}, {projectName}

{workspaceRoot} will be replaced by the absolute path to our lerna repo, and {projectRoot} will be replace by packages/package-a in the case of package-a, and packages/package-b in the case of package-b.
#+NAME: lerna.json
|---------------------------+-------------------------+------|
| Prope                     | Value                   | Note |
|---------------------------+-------------------------+------|
| npmClient                 |                         |      |
|---------------------------+-------------------------+------|
| version                   |                         |      |
|---------------------------+-------------------------+------|
| command.publish.directory | the dir to be published |      |
|---------------------------+-------------------------+------|

