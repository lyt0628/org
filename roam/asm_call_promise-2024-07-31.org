:PROPERTIES:
:ID:       51f13fc0-6c41-4114-b127-2fa811df5b55
:END:
#+title: asm-Call Promise
#+date: [2024-07-31 周三]
#+last_modified:  

|--------------+---------------------------------------------------+---------+-------------+-----------------------+----------------------------------------------------------------------------|
| CALL Promise | Stacks In                                         | Ret val | Caller Work | Callee Work           | Note                                                                       |
|--------------+---------------------------------------------------+---------+-------------+-----------------------+----------------------------------------------------------------------------|
| __cdecl      | R to L                                            | EAX     | Clear Arg,  |                       | C declaration, default in C/C++                                            |
|              |                                                   |         |             |                       | Windows use it, can put in FN code in VS as: int __cdecl fn(int a, int b); |
|              |                                                   |         |             |                       | vArg must use it                                                           |
|--------------+---------------------------------------------------+---------+-------------+-----------------------+----------------------------------------------------------------------------|
| __stdcall    | R to L                                            |         |             | Clear Arg,            | use [[id:57c8a122-3436-4faf-8aec-b9b07a6c6095][ret N]] to Clear Arg                                                     |
|              | In C++, last is pTHIS                             |         |             |                       | usually work in SystemAPI, link WINAPI(typedef)                                                                           |
|--------------+---------------------------------------------------+---------+-------------+-----------------------+----------------------------------------------------------------------------|
| __fastcall   | L to R using Reg to snd N(dep on Compiler) L-ARG, |         |             | Clear Arg(as stdcall) |                                                                            |
|              | rest using Stack                                  |         |             |                       |                                                                            |
|--------------+---------------------------------------------------+---------+-------------+-----------------------+----------------------------------------------------------------------------|
|              |                                                   |         |             |                       |                                                                            |
|--------------+---------------------------------------------------+---------+-------------+-----------------------+----------------------------------------------------------------------------|



