:PROPERTIES:
:ID:       8110670c-b94c-4def-aafd-32a3f3cbfd2c
:END:
#+title: git-ghact-context
#+date: [2024-10-11 周五]
#+last_modified:


|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| Context                                                                             | Atrribute                 | Note                                                                        |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| env                                                                                 | env.name                  | env can be accessed by ${{ env.<name> }} or $<env name>                     |
|                                                                                     |                           | default env, SEE: [[https://docs.github.com/en/actions/writing-workflows/choosing-what-your-workflow-does/store-information-in-variables#default-environment-variables][Default Envs / Github Action]]                              |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| env                                                                                 | GITHUB_WORKFLOW           | the name of current workflow                                                |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
|                                                                                     | RUNNER_OS                 | runner.os 'Windows' 'Linux'                                                 |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| var                                                                                 | vars.name                 | Action variabls accessed by vars context                                    |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| job                                                                                 | job.container             |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| jobs                                                                                | jobs.<job name>.outputs   |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| steps                                                                               | steps.<step name>.outcome |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| runner                                                                              | runner.os                 |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| secrets                                                                             | secrets.GITHUB_TOKEN      | Action Secrets accessed b secrets context                                   |
|                                                                                     |                           | You cannot define other GH_TOKEn, cause github need a github app to support |
|                                                                                     |                           | this secrets app will be created automatically                              |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| strategy                                                                            | strategy.job-index        |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| inputs                                                                              | intputs.<key>             | the argument pass into action                                               |
|                                                                                     |                           | defined in on.wrokflow_call.inputs                                    |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
|                                                                                     |                           |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| system                                                                              | $GITHUB_SERVER_URL        |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| system                                                                              | $GITHUB_REPOSITORY        |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| system                                                                              | $GITHUB_RUN_ID            |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| github                                                                              | github.ref                |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| github                                                                              | github.server_url         |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| github                                                                              | github.repository         |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| github                                                                              | github.run_id             |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| github                                                                              | github.actor              | who trigger this workflow                                                   |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| github                                                                              | github.ref                | string stand current branch, FORMAT: 'ref/head/<branch name>'               |
|                                                                                     |                           | and 'refs/tags' for a taged commit                                          |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
| $GITHUB_SERVER_URL/$GITHUB_REPOSITORY/actions/runs/$GITHUB_RUN_ID                   |                           |                                                                             |
| ${{ github.server_url }}/${{ github.repository }}/actions/runs/${{ github.run_id }} |                           | https://github.com/gwstudent2/greetings-ci/actions/runs/4744932978          |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
|                                                                                     |                           |                                                                             |
|-------------------------------------------------------------------------------------+---------------------------+-----------------------------------------------------------------------------|
